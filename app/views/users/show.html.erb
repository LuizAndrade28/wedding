<div class="container m-5 ps-5">
  <h1>Olá, <%= current_user.first_name %></h1>
</div>

<% if !@user_wedding.empty? %>
  <div class="row m-5 ps-5">
    <div class="col-sm-4 border-end">
      <h2>Seu casamento</h2>
      <p>Seu casamento foi cadastrado com sucesso. Clique no botão abaixo para visualizar.</p>
      <%= link_to "Visualizar", wedding_info_path(@user_wedding, @couple), class: "btn btn-outline-primary shadow-sm" %>
      <%= link_to "Editar", edit_wedding_path(@user_wedding), class: "btn btn-outline-warning shadow-sm" %>
      <%= link_to "Remover", wedding_path(@user_wedding), data: { turbo_method: :delete, turbo_confirm: "Você tem certeza?" }, class: "btn btn-outline-danger shadow-sm"%>
    </div>
    <% if @wedding_gifts.empty? %>
      <div class="col-sm-4 border-end">
        <h2>Lista de presentes</h2>
        <p>Lista de presentes ainda não cadastrada. Clique no botão abaixo para adicionar.</p>
        <%= link_to "Adicionar lista de presentes", new_wedding_gift_path(@user_wedding.wedding_id), class: "btn btn-outline-success shadow-sm" %>
      </div>
    <% else %>
      <div class="col-sm-4 border-end">
        <h2>Lista de presentes</h2>
        <p>Lista de presentes cadastrada. Clique no botão abaixo para visualizar.</p>
        <%= link_to "Visualizar", wedding_gifts_path(@user_wedding), class: "btn btn-outline-primary shadow-sm" %>
        <%= link_to "Adicionar", wedding_gifts_path(@user_wedding), class: "btn btn-outline-success shadow-sm" %>
        <%= link_to "Editar", '#', class: "btn btn-outline-warning shadow-sm" %>
        <%= link_to "Remover", '#', data: { turbo_method: :delete, turbo_confirm: "Deletar a lista inteira e começar do zero. Você tem certeza?" }, class: "btn btn-outline-danger shadow-sm" %>
        <p class="mt-1">Total: <%= @wedding_gifts.count %></p>
        <% @wedding_gifts.each do |gift| %>
          <ul class="mt-4 pt-3 border-top">
            <div>
              <p><%= gift.title %></p>
              <%= link_to "Remover", wedding_gift_path(@user_wedding), data: { turbo_method: :delete, turbo_confirm: "Você tem certeza?" }, class: "btn btn-outline-danger shadow-sm" %>
            </div>
            <li><%= gift.value %></li>
            <li><%= gift.total_quota %></li>
          </ul>
        <% end %>
      </div>
    <% end %>
    <% if @wedding_guests.empty? %>
      <div class="col-sm-4 border-end">
        <h2>Lista de convidados</h2>
        <p>Lista de convidados ainda não cadastrada. Clique no botão abaixo para adicionar.</p>
        <%= link_to "Adicionar lista de convidados", new_wedding_guest_path(@user_wedding.first.id), class: "btn btn-outline-success shadow-sm" %>
      </div>
    <% else %>
      <div class="col-sm-4">
        <h2>Lista de convidados</h2>
        <p>Lista de convidados cadastrada. Clique no botão abaixo para visualizar.</p>
        <%= link_to "Visualizar", wedding_guest_path(@user_wedding), class: "btn btn-outline-primary shadow-sm" %>
        <%= link_to "Editar", '#', class: "btn btn-outline-warning shadow-sm" %>
        <%= link_to "Remover", '#', data: { turbo_method: :delete, turbo_confirm: "Você tem certeza?" }, class: "btn btn-outline-danger shadow-sm" %>
        <p class="mt-1">Total: <%= @wedding_guests.count %></p>
        <% @wedding_guests.each do |guest| %>
          <ul class="mt-4 pt-3 border-top">
            <li><%= guest.first_name %></li>
          </ul>
        <% end %>
      </div>
    <% end %>
  </div>
<% else %>
  <div class="m-5 ps-5">
    <h2>Seu casamento</h2>
    <p>Seu casamento ainda não foi cadastrado. Clique no botão abaixo para cadastrar.</p>
    <%= link_to "Cadastrar casamento", new_wedding_path, class: "btn btn-outline-warning shadow-sm" %>
  </div>
<% end %>
